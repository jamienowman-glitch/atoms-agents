## ATOM: wireframe_canvas
- Status: planned
- Brief: Full-page black-background wireframe canvas with white grid, snap-to-grid element positioning, shared between humans and agents with live SSE position updates and token-addressable elements.

## ATOM: theme_layout_settings
This atom defines the global layout rails for every page: the 24-column grid baseline, breakpoints, outer margins, gutters, safe areas, and default section spacing. It sits above individual sections, providing consistent width behaviour for mobile, tablet, and desktop without hardcoding pixels. Visually, it assumes a black base canvas with white text and stroked outlines; it exposes semantic tokens for surface/background and stroke so downstream themes can invert or recolour. Interaction is minimal—no hover states—but it must handle responsive recalculation and safe-area padding when device cutouts are present. On desktop, expect configurable max width (container width token), outer margins, and gutters; on tablet/mobile the grid spans remain 24 columns, but tokens shrink margins/gutters and optionally switch sections to full-bleed when flagged. Spacing tokens govern vertical rhythm between stacked sections, plus optional “intra-section” padding defaults. Tokens include: grid_span defaults per breakpoint for common sections, outer_margin_* and gutter_* values, container max width, section padding (top/bottom), safe_area_insets toggles, and full_bleed allowances. States are mostly static, but there should be a loading/initialization guard so layout does not flash while tokens hydrate. Accessibility: respect prefers-reduced-motion (no animated layout shifts) and maintain readable line lengths by default. Composition: every section atom consumes these tokens; the builder maps per-section spans/offsets to this grid. Tracking: minimal—expose a view_id/tracking_id so analytics can attribute layout toggles (e.g., density variant) but never emit PII. Exposed tokens must let the builder tune density (compact/comfortable), max width, and margin/gutter presets per brand while keeping the 24-column contract intact.

## ATOM: theme_colour_schemes
This atom declares 2–4 semantic colour schemes for the builder: base surfaces, text roles, strokes, accents, button fills/strokes, and state variants (hover, pressed, disabled, error/success). Default scheme is black background with white text; buttons either reverse (white fill, black text) or outline (white stroke, transparent fill). It must stay fully tokenized: colour.chat.surface_primary, surface_secondary, text_primary/secondary/disabled, stroke_default, accent_primary/secondary, button_fill/outline, focus ring, hover/pressed fills, badge/dot, overlays, and optional success/error tokens. Schemes should include opacity tokens for overlays/glows to avoid hardcoding RGBA in usage. Interaction narrative: hovering buttons strengthens stroke/fill; pressed deepens fill; disabled reduces opacity but preserves contrast. States for cards or sections inherit scheme tokens; no gradients or neon. The atom’s data schema should list schemes with name/id, palette values, and state mappings so downstream atoms can request a scheme by id. Accessibility: each scheme must target WCAG AA for small text against both base surface and filled controls; provide a high-contrast override token. Tracking: expose scheme_id so analytics can log which palette is active; do not log colours themselves. Exposed tokens: per-scheme colour tokens and state mappings, plus a default_scheme selector. Behaviour: optional animation token for theme transitions (fade duration) respecting prefers-reduced-motion. Composition: every atom references these scheme tokens instead of raw hex; buttons rely on accent tokens; focus rings use dedicated tokens. All values are semantic placeholders; branding happens upstream.

## ATOM: theme_typography_settings
This atom defines default heading/body/label presets across the builder, anchored to Roboto Flex. It supplies named presets for headings (e.g., h1–h6), body (large/regular/small), meta/label, button text, caption, and overline, each mapped to axis tokens (wght, wdth, slnt, opsz, tracking, and available Flex axes). It also sets line-heights and letter-spacing tokens for compact and relaxed densities. Visual base assumes white text on black; typography tokens should not encode colour, only font specs. Interaction narrative: hover/active states do not alter family; weight/spacing tweaks for interactive text (links/buttons) come from state tokens. The data shape should allow preset remapping per breakpoint (mobile/tablet/desktop) to adjust sizes/opsz while keeping names stable. Accessibility: enforce minimum sizes for small text and line-height guidelines; provide a high-contrast option via colour tokens elsewhere. Tracking: expose a typography_theme_id for analytics but do not emit text content. Exposed tokens: preset names to axis values, size ramps, line-heights, tracking, text-transform guidance, and allowed ranges for overrides. Behaviour: none beyond ensuring typography reflows without layout jumps when tokens change. Composition: all atoms bind their text roles to these presets; the builder can swap presets per surface without touching atom code. Include notes on fallbacks if Roboto Flex is unavailable and how to clamp tracking via the fonts helper.

## ATOM: theme_card_surface
This atom provides the shared card shell used by product, collection, and blog cards. Base look: black surface with white stroke or subtle shadow/glow; radius and padding tokens define geometry; optional inverted/on-accent variant uses white fill with black text. It must define tokens for surface/base/overlay, stroke weight/colour, radius, elevation (shadow or glow intensity), internal padding, gap between media and text, and state variants (hover lift/glow, pressed inset, selected/active outline). Interactions: hover brightens stroke or raises elevation; pressed darkens fill lightly without collapsing layout; focus adds a ring outside stroke; disabled lowers opacity but preserves legibility. Content is provided by child atoms, so layout tokens cover padding and spacing, not text styling. Data schema: variant id (default/on_accent/outline), padding scale (compact/comfortable), radius scale, stroke_weight, and elevation level. Accessibility: focus ring offset to avoid clipping radius; ensure contrast on both dark and light variants. Tracking: expose card_surface_id and state transitions (hover/active) for QA; no payload content. Exposed tokens: radius scales, stroke weights, fills, hover/pressed/active colours, padding sizes, elevation/glow opacities, and optional badge slot positioning. Composition: this surface wraps cards across sections; it respects theme_layout_settings for width and theme_colour_schemes for colours; typography comes from theme_typography_settings; behaviour is minimal aside from state tokens.

## ATOM: layout_group_container
This atom is the universal section wrapper that frames blocks and sections in the builder. It stretches across the 24-column grid, applying section padding, optional background surface, and alignment rules for its children. Visuals: black base surface by default, white text; optional outlined variant with white stroke; supports full-bleed toggle while maintaining internal 24-column structure. States are minimal—hover/focus on the container should be subtle (stroke glow/focus ring) and disabled is rare. Tokens: grid_span per breakpoint, padding (top/bottom/left/right), gap between stacked child blocks, surface/stroke tokens, radius (for contained cards), and optional background media overlay opacity. Behaviour: container may carry alignments (start/center/stretch), max-width clamp, and safe-area padding. Accessibility: when used as a landmark, expose role/aria-label guidance; ensure focus ring placement for keyboard navigation if container is interactive (e.g., collapsible). Data: expects children defined upstream; may carry section-level ids for tracking. Tracking: emit container_view_id/tracking_id for impressions; never include child content. Exposed tokens let builders adjust density, background, stroke, and full-bleed per section.

## ATOM: layout_columns_grid
This atom arranges child blocks into a multi-column/row grid using the 24-column baseline: typically 2–5 columns on desktop and 1–2 on mobile. It respects container padding and gutters and supports custom spans/offsets per child. Visuals: black surface, optional stroke grid lines via tokens; spacing controlled by horizontal/vertical gap tokens; optional divider lines between columns. States: not interactive itself beyond hover/focus outlines in edit mode; disabled state to indicate locked layout. Tokens: column_count per breakpoint, column_span defaults, gutter overrides, row_gap, column_divider stroke, alignment (top/center/stretch), and wrap behaviour. Behaviour: responsive stacking rules (e.g., collapse to 1 column on small screens), optional equal-height columns. Accessibility: ensure reading order matches DOM; provide guidance if columns reorder. Tracking: minimal—grid_id and layout variant for analytics. Composition: consumes theme_layout_settings for outer spacing; child atoms supply their own spans/tokens.

## ATOM: layout_spacer_block
This is a purely structural spacer that inserts vertical whitespace between blocks/sections. Visual: transparent on black base; optional debug outline token. Tokens: spacer_size presets (xs–xl), and the ability to respond to compact/comfortable density; optional breakpoint overrides. Behaviour: non-interactive; may support collapse on mobile via token (e.g., reduce spacer size). Accessibility: should be ignored by screen readers (aria-hidden) and not be focusable. Tracking: none beyond optional layout_id. Exposed tokens: sizes per breakpoint/density.

## ATOM: layout_divider_block
This atom renders a horizontal divider line to separate content blocks. Visual: simple white stroke on black base; tokens for stroke weight, opacity, inset/margins, and optional label slot (e.g., centered text). Supports full-width or inset variants aligned to the 24-column grid; can switch to dotted/dashed via token. Behaviour: non-interactive; hover/focus only when a label is interactive, otherwise aria-hidden. Accessibility: if label is present, ensure semantic text; otherwise mark decorative. Tracking: none aside from layout_id. Exposed tokens: stroke colour/weight/style, inset margins per breakpoint, optional label typography hook, and spacing above/below tied to theme_layout_settings.

## ATOM: heading_block
This atom renders standalone headings (H1–H6) with alignment and optional max-width controls, serving as the primary text anchor in sections. Visual: black background, white text; alignment tokens for left/center/right; optional underline/divider token to anchor headings in minimal monochrome style. States: default and focus (if heading is link); hover/pressed for linked headings, otherwise static. Tokens: typography preset tokens mapped to theme_typography_settings (h1–h6), alignment, max_width fraction of 24-column span, spacing above/below, optional underline stroke token, and text transform toggle. Behaviour: supports linking the heading to a URL; clicking navigates; keyboard activation via Enter/Space when focusable. Layout: spans the container width but constrained by max_width token; respects 24-column spans set by parent and theme_layout_settings padding. Accessibility: semantic heading levels with aria-level override, ensure focus ring for linked headings, and avoid using headings purely for styling. Tracking: include heading_id/view_id for analytics; do not log text content. Exposed tokens allow builders to adjust typography presets, spacing, alignment, underline, and link state colours.

## ATOM: rich_text_block
This atom renders paragraph or multi-paragraph rich text (body copy, lists, inline links) on a black base with white text. It supports inline styling (bold/italic), bullet/numbered lists, and optional intro emphasis preset. Visual tokens: typography presets for body and inline emphasis, link state colours, spacing between paragraphs, and optional max-width. States: link hover/active, focus for keyboard navigation; no container hover. Layout: aligns to 24-column spans from parent; max_width token to control line length; vertical spacing tokens for margins to neighbours. Behaviour: links open in new tab if flagged; can render embedded inline icons if provided via tokens; supports line-height adjustments for compact/comfortable density. Accessibility: semantic tags for lists/headings inside copy; clear focus styles for links; ensure sufficient contrast. Tracking: minimal—rich_text_id/view_id and link click events without capturing content. Exposed tokens: body presets, emphasis presets, link colours, spacing above/below, paragraph gap, max_width.

## ATOM: button_single
This atom provides a single CTA button with solid (white fill/black text) and outline (white stroke/transparent fill) variants on a black background. States: default, hover (brighten stroke/fill), pressed (darken fill/outline), focus (ring outside stroke), disabled (opacity). Tokens: typography preset for label, padding X/Y, radius, stroke width, fill/stroke colours per variant, hover/pressed/focus/disabled state tokens, icon-left/icon-right spacing, and min width. Behaviour: click/tap activates link/action; keyboard Enter/Space activates; supports loading state token (spinner placeholder) and optional full-width on mobile. Layout: aligns to 24-column spans via parent; sizing via tokens. Accessibility: role=button with aria-pressed if toggle; aria-label for icon-only variant; focus ring visible on dark base. Tracking: emit button_click with button_id/tracking_id and context; no PII. Exposed tokens: variant selector, label preset, spacing, radius, state colours, icon presence/size, full-width toggle.

## ATOM: button_group
This atom renders a small group of 1–2 CTA buttons, horizontally aligned on desktop and optionally stacked on mobile. Visual: same black/white palette as button_single; supports mixed variants (primary/secondary). Tokens: gap between buttons, orientation per breakpoint (row vs column), alignment (start/center/end), shared padding/radius tokens inherited from button_single. States mirror button_single for each button. Layout: respects 24-column container; can collapse to vertical stack on mobile via token. Accessibility: maintain tab order left-to-right/top-to-bottom; each button focusable with its own ring; group itself is non-focusable. Tracking: emit button_group_view_id and individual button click events; no content logging. Exposed tokens: orientation per breakpoint, gap, alignment, shared radius/padding tokens, variant assignment (primary/secondary).

## ATOM: image_media_block
This atom displays a single image with configurable aspect ratio, radius, optional stroke, and link. Visual: black background frame; image can be edge-to-edge or inset with padding; optional overlay tokens for captions/badges. States: hover can scale slightly or show a subtle overlay; focus ring for keyboard when link is present; pressed darkens overlay. Tokens: aspect ratios (1:1, 4:3, 16:9, 3:4), object-fit, radius, stroke, padding, overlay opacity/colour, caption typography preset hook, and alignment within 24-column span. Behaviour: click/tap opens link/lightbox if enabled; lazy-load guidance; support for placeholder/fallback image token. Accessibility: requires alt text; focusable when linked; optional figcaption. Tracking: image_impression and image_click with image_id/media_id and tracking_id; no image URLs in analytics. Exposed tokens: aspect ratio, radius, stroke, padding, overlay, hover/pressed behaviour toggles, caption preset hook.

## ATOM: video_media_block
This atom embeds video (self-hosted or platform) with optional poster, controls, and autoplay/loop/mute tokens. Visual: black base frame with optional stroke/radius; overlay play icon token; captions track indicator. States: hover shows controls/overlay; focus ring when keyboard focused; pressed starts playback. Tokens: aspect ratio, radius, stroke, overlay colour/opacity, play icon size/position, control bar visibility, poster handling, and buffering/loading state visual. Behaviour: playback controls respecting autoplay/mute/loop tokens; fallback to poster on load error; support YouTube privacy mode token (nocookie). Accessibility: provide title/aria-label, support captions/subtitles, keyboard controls (Space/Enter to play/pause), focus management for embedded player. Tracking: video_impression, video_play, video_pause, video_complete with video_id/source, tracking_id/view_id, context; no PII. Exposed tokens: aspect ratio, radius, overlay, play icon, control visibility, autoplay/mute/loop toggles.

## ATOM: accordion_item
This atom renders a collapsible item with a title row and body content. Visual: black base with white text, optional stroke divider between items; chevron icon token rotates on expand; radius and padding tokens keep capsule-like feel. States: default collapsed, hover/focus highlight on header, pressed for header activation, expanded showing body with spacing. Tokens: header typography preset, body preset, padding for header/body, icon size/position, divider stroke, expand/collapse animation duration/ease (respect reduced motion), radius, spacing above/below. Behaviour: click/Enter/Space toggles expansion; optional single-open (accordion) vs multi-open (disclosure) mode token; initial open state token. Accessibility: use button semantics for header with aria-expanded and aria-controls; body region labelled; chevron not focusable. Tracking: accordion_toggle event with item_id, expanded boolean, tracking_id/view_id, context; no content logging. Exposed tokens: header/body presets, padding, icon tokens, divider, animation timing, open mode.

## ATOM: section_hero_banner
This section is a hero/banner with background media (image or video), overlay tint, and foreground content (headline, subtext, buttons). Visual: black base with optional media, white text; overlay token controls tint strength. Layout aligns to 24-column grid: headline and body constrained by max-width tokens, CTA buttons aligned per breakpoint (stack on mobile). States: default, hover/focus on interactive elements (buttons/links), and media states (idle/playing/error for video). Tokens: background media source refs, overlay colour/opacity, padding top/bottom, content alignment (left/center), spacing between text and buttons, max-width for text block, radius if framed, full-bleed toggle. Typography tokens tie to theme_typography_settings; colours to theme_colour_schemes; buttons reuse button_single tokens. Behaviour: video autoplay/mute tokens respect consent; optional slideshow variant via separate section later. Accessibility: provide aria-label/heading semantics, alt text/poster, focus ring on buttons, and ensure contrast with overlay. Tracking: hero_impression and hero_cta_click (no text in payload, only ids). Exposed tokens: overlay, spacing, alignment, media aspect/fill, button presets, full-bleed, max-width.

## ATOM: section_rich_text
This section presents a large rich text area with heading, body, and optional CTA/button. Visual: black surface, white text; optional subtle stroke/frame token. Layout: text block centered or left-aligned within 24-column span; max-width token to control line length; vertical padding tokens for top/bottom and spacing between heading/body/CTA. States: link hover/focus in body; CTA states as per button_single. Tokens: heading preset, body preset, link colours, spacing between elements, alignment, max-width, padding. Behaviour: CTA click navigates; links in body follow rich_text_block behaviour. Accessibility: semantic heading levels, link focus rings, and readable line-length defaults; aria-label for CTA if icon-only. Tracking: section_impression (optional) and CTA click with ids only. Exposed tokens: typography presets, spacing, alignment, max-width, link state colours, CTA tokens.

## ATOM: section_multicolumn_features
This section shows multiple feature columns (icon/image + heading + text + button). Visual: black base, white text; optional per-column card surface using theme_card_surface. Layout: 2–5 columns desktop, 1–2 mobile via layout_columns_grid; tokens for column count per breakpoint, internal padding, gap between columns/rows, and optional column dividers. States: hover/focus on column surfaces, CTA states per button_single; icon/image overlay states optional. Tokens: feature icon/image token ref, heading/body presets, CTA presets, card surface tokens, column gap/row gap, alignment, and optional badge tokens. Behaviour: CTAs navigate; columns may be clickable if token-enabled; ensure hover does not shift layout. Accessibility: ensure DOM order matches visual; focus ring on CTAs and clickable columns; alt text for icons/images. Tracking: feature_impression (per column optional) and feature_cta_click with ids; no text in analytics. Exposed tokens: column counts, gaps, padding, card surface variant, icon size, typography presets, CTA tokens.

## ATOM: section_featured_collection_grid
This section renders a grid of products from a chosen collection. Visual: black base, white text; product cards use theme_card_surface. Layout: uses layout_columns_grid to place product cards (2–4 columns desktop, 1–2 mobile), with tokens for gutters/row gaps and max number of items. States: hover/focus on cards, CTA states inside cards; loading/empty states with placeholder tokens. Tokens: collection_ref, item_limit, card surface variant, gap tokens, alignment, heading/body presets for section title/description, CTA to view all. Behaviour: fetches collection items upstream; supports “view all” CTA; optional badges (sale/new) via card tokens. Accessibility: heading for section, card alt text inherited from product data, focus ring on cards/CTAs. Tracking: section_impression, product_card_click with product_id/collection_id, view_all_click; no price or text in analytics. Exposed tokens: grid columns/gaps, section typography, CTA tokens, card variant selection, item_limit.

## ATOM: section_collection_list
This section displays multiple collection cards. Visual: black base with white text; cards via theme_card_surface with optional collection image/icon. Layout: layout_columns_grid for 2–4 columns desktop, 1–2 mobile; tokens for gaps, card padding, image aspect ratio, and optional list vs grid toggle. States: hover/focus on cards, CTA/link states per card; empty state placeholder. Tokens: heading preset, optional description preset, collection cards’ media aspect/radius, card surface variant, gaps, section padding, alignment, max-width for header text, CTA “View all collections” optional. Behaviour: clicking a card navigates to collection; CTA optional. Accessibility: alt text for collection images; focus rings on cards/links; section heading present. Tracking: collection_card_click with collection_id, section_impression optional, CTA click; no collection names in payload. Exposed tokens: column counts/gaps, card surface variant, image aspect/radius, section typography, CTA tokens, padding/alignment.

## ATOM: section_media_collage
This section arranges multiple media tiles into a collage (one large tile plus smaller supporting tiles) on a black base with white text/overlays. Layout: uses the 24-column grid with configurable patterns (e.g., 12/12 + 6/6/6/6), tokens for gap, padding, and tile aspect ratios. Visual: tiles may be images or short looping videos; overlay tokens control tint and captions; optional stroke for separation. States: hover overlays and focus rings on interactive tiles; play/pause overlays for video tiles; pressed darkens overlay. Behaviour: tiles can be clickable (link/lightbox) per token; keyboard activation follows Enter/Space. Tokens: pattern selection, tile aspect ratios, gap, padding, overlay colour/opacity, tile radius/stroke, caption presets, and optional badge tokens. Accessibility: alt text/poster per tile, focusable when interactive, ensure reading order matches DOM. Tracking: tile_impression (optional), tile_click with tile_id/media_id, tracking_id/view_id; no media URLs in analytics. Exposed tokens: layout pattern, gaps, padding, overlay, radius/stroke, caption presets, clickable flag, and tracking hooks.

## ATOM: section_image_with_text
Classic “image + text + button” section. Visual: black base with white text; image/media on left or right depending on token; optional stroke/radius for media. Layout: 24-column split with tokens for media span vs text span per breakpoint; stack on mobile; padding and gap tokens between media and text. States: hover/focus on CTA, optional image overlay on hover; pressed darkens overlay. Tokens: media aspect ratio, radius/stroke, overlay opacity, text max-width, alignment, spacing between heading/body/CTA, padding, and swap-side toggle. Accessibility: heading semantics, alt text for media, focus rings on CTA; ensure reading order matches DOM when swapping sides. Tracking: section_impression optional, CTA click, media click if linked; no text logged. Exposed tokens: media span/aspect/radius/overlay, text alignment/max-width, padding/gaps, CTA tokens, swap toggle.

## ATOM: section_slideshow
This section presents a hero-style slideshow with per-slide content (media + text + CTAs). Visual: black base, white text; slides may have background image/video with overlay. Layout: full-width or contained per tokens; 24-column-aligned content area with max-width; pagination/dots and arrows optional via tokens. States: slide transitions (tokenized timing/ease), hover/focus on controls, focus ring for keyboard. Behaviour: autoplay token respecting reduced motion and consent; manual navigation via arrows/dots/keyboard; looping optional. Tokens: slide interval/duration/ease, overlay colour/opacity, padding, content alignment, media aspect ratio, control placement/size/colour, pagination style, slide count, transition type (fade/slide). Accessibility: role=region with aria-label, roving tabindex for slides/dots, announce slide changes politely, ensure controls keyboard operable. Tracking: slideshow_impression, slide_change (from/to ids), slide_cta_click; no content logged. Exposed tokens: timing, controls style, overlay, padding, alignment, media aspect, CTA refs, autoplay/loop toggles.

## ATOM: section_blog_posts
This section shows article cards from a chosen blog/feed on a black base. Layout: layout_columns_grid for 2–4 columns desktop, 1–2 mobile; tokens for gaps, card surface variant, image aspect ratio, and item_limit. Visual: cards use theme_card_surface with image, title, excerpt, meta (date/author), and CTA. States: hover/focus on cards/CTAs; loading/empty placeholders. Behaviour: pulls posts upstream; “view all” CTA optional. Tokens: blog_ref, item_limit, heading/body presets, card variant, gaps, section padding, meta presets, image aspect/radius, CTA tokens. Accessibility: section heading; alt text for images; focus rings on cards/CTAs; ensure excerpts don’t truncate mid-word (layout handles truncation tokens). Tracking: blog_post_card_click with post_id/blog_id, section_impression optional, view_all_click; no post titles in analytics. Exposed tokens: columns/gaps, card variant, image aspect, typography presets, CTA tokens, padding/alignment, item_limit.

## ATOM: section_email_signup
This section presents a newsletter signup form (email input + button + helper/error text) on a black base. Visual: white text, outline/solid button, input with white stroke/fill tokens; optional icon. Layout: aligns to 24-column grid with max-width token; stack input/button on mobile with gap tokens; padding top/bottom. States: default, focus (input/button), hover/pressed for button, error/success states with colour tokens, loading state for submission. Behaviour: form submit with anti-spam (honeypot timestamp upstream), client validation (email), inline error/success messaging tokenized. Tokens: input padding/radius/stroke/fill colours, label/helper/error presets, button tokens, spacing between elements, alignment, max-width. Accessibility: label the input; aria-invalid/aria-describedby for errors; keyboard focus rings; no auto-submission; respect reduced motion for state changes. Tracking: form_impression optional, form_submit, form_error, form_success with form_id/tracking_id/context; no email/PII in analytics. Exposed tokens: input styling, button tokens, spacing, alignment, messages presets, tracking hooks.

## ATOM: section_custom_markup
This section safely wraps custom HTML/Liquid markup. Visual: black base; optional padding/stroke tokens; supports full-bleed toggle while maintaining 24-column internal grid when constrained. Behaviour: largely passthrough, but must sandbox/escape or clearly document sanitization expectations. Tokens: padding, background/stroke, max-width, full-bleed toggle, optional typography/colour inheritance flag. States: non-interactive aside from contained content; focus/hover only relevant if container is selectable in builder. Accessibility: requires aria-label/description for the region and guidance to ensure injected markup stays semantic. Tracking: optional section_impression with section_id; avoid logging injected content. Exposed tokens: padding, background/stroke, max-width, full-bleed flag, inheritance toggles for typography/colours, tracking hooks.

## ATOM: product_media_gallery
This atom renders the primary product media gallery: main media area with thumbnails/rail. Visual: black base, white accents; optional stroke or card surface from theme_card_surface. Supports images and video with zoom/lightbox tokens. Layout: main media spans majority of 24-column grid on desktop with thumbnails vertical/horizontal per token; on mobile, thumbnails can be horizontal carousel below or above the media. Tokens: aspect ratios, object-fit, radius/stroke, gap between media and thumbs, thumb size/spacing, active thumb state, overlay for video play, zoom/lightbox toggle, and padding. States: hover/focus on thumbnails, active thumbnail highlight, video states (idle/playing/error), zoom overlay state. Behaviour: clicking thumb swaps main media; keyboard navigation between thumbs; Enter/Space to activate; optional swipe on mobile. Accessibility: alt text/poster for media, aria-selected for active thumb, focus ring visible; ensure reduced motion disables autoplay/animated transitions. Tracking: media_impression and media_interaction (thumb click, zoom) with media_id/product_id; no URLs logged. Exposed tokens: aspect ratios, thumb sizes/gaps, active states, overlays, zoom/lightbox toggle, layout mode, tracking hooks.

## ATOM: product_info_stack
This atom is a composition container for product title, price, description snippets, variant picker, buy buttons, and collapsible sections. Visual: black base, white text; optional stroke/padding tokens. Layout: stack of child atoms aligned to 24-column spans, with spacing tokens controlling gaps between blocks; supports sticky alignment via buy_buttons tokens. States: passive container; child states handled in child atoms. Tokens: spacing between sub-blocks, padding, alignment, optional divider tokens between blocks. Behaviour: orchestrates child ordering and alignment; may include flags for showing/hiding sub-blocks (e.g., show_collapsibles). Accessibility: ensure logical heading order and focus order by default ordering; container itself non-focusable. Tracking: product_info_view_id for analytics; no content. Exposed tokens: spacing between sub-blocks, padding, optional dividers, alignment, sticky offset passthrough for buy_buttons.

## ATOM: product_title_block
This atom displays the product title and optional subtitle/meta. Visual: white text on black; optional underline/divider token. Layout: alignment and max-width tokens; spacing above/below tokens to separate from price/description. States: hover/focus only if linked; otherwise static. Tokens: typography presets for title/subtitle, alignment, max_width, spacing. Behaviour: supports optional link to product page; click/keyboard activates link. Accessibility: semantic heading with aria-level, focus ring for linked titles. Tracking: title_click with product_id/title_id; no text logged. Exposed tokens: typography refs, alignment, max_width, spacing, link toggle.

## ATOM: product_price_block
This atom shows price, compare-at, badges (sale, sold out), and currency formatting hooks. Visual: white text on black; optional badge tokens; optional separator tokens. Layout: inline or stacked display tokens; gap between price and badges. States: passive except hover/focus on badges if interactive tooltip exists. Tokens: typography presets for price, compare-at, badge text; colour tokens for price/discount/badge backgrounds; spacing tokens; alignment; currency/formatting flags passed from upstream. Behaviour: compute derived flags (on_sale, sold_out) from data; strike-through compare-at if present; no currency math in the atom—assumes formatted strings or structured price parts. Accessibility: announce price and sale status; badges have aria-labels. Tracking: price_view event optional with product_id; no monetary values in analytics. Exposed tokens: typography refs, badge styling, spacing, alignment, strike-through style token.

## ATOM: product_variant_picker
This atom renders variant selectors (dropdowns or buttons/swatches) for options like size and color. Visual: black base with white text; swatches/stroke tokens for selection; dropdowns outlined in white. Layout: vertical stack of option groups with label + control; spacing tokens between options and option values; swatch size/radius tokens; dropdown padding/radius. States: default, hover/focus, selected, disabled/out-of-stock; error state token if selection invalid. Behaviour: click/tap/keyboard to select; Enter/Space activates focused option; arrow keys move between options in button/swatches; dropdown uses native select or styled select. Accessibility: each option group labeled; role=radiogroup/listbox as appropriate; aria-pressed/selected on options; focus ring visible; announce out-of-stock. Tracking: variant_select event with product_id, option_id/value_id, is_available; no user input logged beyond ids. Exposed tokens: control type (dropdown/button/swatches), swatch size/radius/spacing, label/value typography refs, spacing, focus/hover/selected state tokens.

## ATOM: product_buy_buttons_block
This atom contains Add to Cart and Buy Now buttons, with optional sticky behaviour on desktop/mobile. Visual: aligns with button_single tokens (solid/outline variants). Layout: horizontal alignment on desktop, optional stacked on mobile; gap and padding tokens; sticky offset tokens. States: buttons have default/hover/pressed/focus/disabled/loading; block itself may have a sticky-on-scroll state token. Behaviour: click/tap/keyboard to trigger add-to-cart or buy-now; handles disabled/loading when variant unavailable or submitting; optional quantity or secondary note token; sticky behaviour toggled via token and respects safe areas. Accessibility: each button role=button; aria-pressed not used unless toggle; focus rings visible; sticky state should not trap focus. Tracking: add_to_cart_click and buy_now_click with product_id/variant_id, tracking_id/view_id, context; no prices/PII. Exposed tokens: button variants/presets refs, gap/alignment, padding, sticky toggle/offset, loading tokens, tracking hooks.

## ATOM: product_description_block
This atom renders the long product description (rich text). Visual: white text on black; optional frame/padding tokens. Layout: max-width token to control line length; spacing above/below; paragraph gap tokens. States: link hover/active in body; otherwise static. Behaviour: rich text rendering rules (lists, bold/italic), optional truncation with “read more” token; link handling like rich_text_block. Accessibility: semantic tags preserved; focus styles for links; ensure contrast. Tracking: link_click with hashed href optional; no text logged. Exposed tokens: typography presets (body/emphasis/link), spacing, max_width, link state colours, truncation toggle.

## ATOM: product_collapsible_section
This atom provides product accordions such as “Size guide” or “Care.” Visual: black base, white text; optional stroke between items; chevron icon rotates on expand. Layout: header/body padding tokens, radius tokens, spacing between items. States: default collapsed, hover/focus on header, pressed activation, expanded; respect reduced motion. Behaviour: header click/Enter/Space toggles; single vs multi-open mode token; start_open flag; optional link in body follows rich text behaviour. Accessibility: button semantics on header with aria-expanded/controls, focus ring, body region labelled; chevron not focusable. Tracking: accordion_toggle with item_id, tracking_id/view_id, context; no body content. Exposed tokens: typography presets, padding, icon size/colour, divider stroke, animation timing, mode, spacing.

## ATOM: product_recommendations_section
This section shows related/complementary products as cards using theme_card_surface. Visual: black base, white text; cards with image, title, price, CTA. Layout: layout_columns_grid for 2–4 columns desktop, 1–2 mobile; tokens for gaps, card surface variant, item_limit, section padding, heading/body presets. States: hover/focus on cards/CTAs; loading/empty placeholders. Behaviour: fetches recommendations upstream; optional “view all” CTA. Accessibility: section heading; alt text for product images; focus rings on cards/CTAs. Tracking: recommendation_impression, recommendation_click with product_id/source; no titles/prices logged. Exposed tokens: columns/gaps, card variant, image aspect, section typography, CTA tokens, padding/alignment, item_limit.

## ATOM: floating_pill_toolbar
Floating, draggable pill launcher for diagnostics/tooling that never covers the chat rail. Collapsed state: icon-only circular/pill badge sitting above the chat rail, visually distinct from content. Expanded state: animates into a long rounded pill with a single row of tool icons, each inside mini black sub-pills. Multiple toolbars can coexist; each is independently draggable and snaps to a viewport grid that excludes the chat rail zone. Drag starts on press/hold, follows pointer, and snaps to nearest grid anchor on release; small movement + quick release is treated as a tap to toggle expand/collapse. Snapping clamps drops that would intrude into the chat rail. Long-press triggers “gather” mode: all other toolbars animate and snap toward the pressed toolbar’s anchor, clustering with small offsets while highlighting the primary. Expansion direction logic: always grows toward screen centre and away from edges—left-side positions expand vertically (top-left downward, bottom-left upward); right-side expand leftward; centred positions choose vertical vs horizontal based on available space. Collision avoidance nudges along the grid or flips axis when another toolbar would be covered. States: collapsed idle, hover/focus/pressed on the badge, expanded idle, hover/pressed on tool icons, dragging, snapping, gathering, reduced-motion mode (no animations), and disabled. Tokens per dimension: behaviour tokens for drag thresholds, snap grid size, tap-vs-drag threshold, gather trigger/animation, expansion direction rules, and collision offsets; typography tokens for optional badge/tool labels; colour tokens for base pill surface, sub-pill surfaces, icon/text roles, focus/hover/pressed/disabled overlays; layout tokens for pill radius, padding, icon spacing, grid spacing/margins, safe chat-rail offset, z-index ordering, and cluster offsets; icon tokens for launcher icon + per-tool icons; views to illustrate collapsed/expanded, grid snapping, and gather; data schema for toolbar id, position, state, tool list, snap grid meta, and tracking/view ids; tracking for toggle/drag/gather events with consent guardrails; accessibility for focus order, aria-expanded, aria-controls for expanded row, drag affordance with keyboard equivalents, and reduced-motion compliance. Exposed tokens surface grid size, snap padding above chat rail, radii, spacing, icon refs, animation duration/ease, gather behaviour toggles, and tracking ids for builders.

## ATOM: app_header_appname_dropdown
Right-side app-name label that doubles as a dropdown trigger within the header shells. Always icon-free by default except an optional chevron. Visual: white text on dark header, inline chevron with subtle contrast drop; single-line with ellipsis if space is tight. States: default, hover (underline/brightness), pressed (minor opacity), open (chevron rotation/underline), focus ring. Behaviour: displays current app name and toggles dropdown open/close on click/keyboard; never pre-populates options—content always provided externally. Outside click closes. Typography: Roboto Flex with split styling support via prefix/suffix/superscript tokens (e.g., AGENTFLOW²), uppercase option on prefix, italic/weight variation on suffix, superscript scaling for “²”. Layout: right-aligned in header right zone with small horizontal padding and chevron gap tokens. Data schema: app_id, app_name_display, optional app_name_parts {prefix, suffix, superscript}, has_open_dropdown, view/surface ids. Tracking: dropdown_opened/closed with app_id/surface_id/tenant_id/view_id; no text logged. Accessibility: role=button with aria-label “Current app: <name>. Open app switcher.”, Enter/Space toggles, focus visible. Tokens: typography presets per part, chevron size/spacing, hover/pressed/open colours, padding, truncation toggle, tracking overrides.

## ATOM: macro_temp_indicator
Numeric macro temperature metric (1–100) rendered inline with a colour-coded degree symbol; used beside the app name in standard header. Visual: white numeric text plus degree glyph coloured by bands (blue <55; yellow 55–65; green 65–75; yellow 75–85; red >=85) using semantic tokens. States: default, hover (optional underline), alert (threshold emphasis) and focus when interactive. Behaviour: reads a provided value, applies banded colour to the degree symbol; optional click hook for future detail view. Typography: Roboto Flex numeric preset with consistent width/line-height; degree may use icon-like sizing token for alignment. Layout: inline with small spacing token to the app label, aligned to header baseline. Data schema: macro_temperature_value (int), optional band thresholds config, flags for interactive vs display-only, tracking/view ids. Tracking: optional macro_temp_indicator_click with ids/context; no PII or temperatures beyond numeric value. Accessibility: reads “Temperature 72, green zone”; if clickable, role=button with aria-label; focus ring visible on dark base. Tokens: value typography preset, degree colour tokens per band, spacing from app label, hover/focus/alert colour overlays, optional clickability flag, tracking overrides.

## ATOM: main_menu_icon_button
Leftmost header button to open the main navigation. Visual: white menu icon on dark base (or inverted via token), with generous tap target and consistent padding/radius. States: default, hover (brightness), pressed, focused (ring), disabled. Behaviour: click/tap/keyboard opens/closes global nav; in nano state, also expands header to micro/standard. No internal text. Icons: references menu_black.png/menu_white.png from registry; icon ref token controls variant. Layout: left-aligned with horizontal padding tokens, min tap size tokens to meet touch guidelines. Data schema: surface_id required, optional theme_variant, tracking/view ids. Tracking: main_menu_opened/closed with surface_id/tenant_id/view_id; no PII. Accessibility: aria-label “Open main menu”/“Close main menu”; Enter/Space activates; focus ring visible. Tokens: icon size, padding, radius, hover/pressed overlays, tracking override.

## ATOM: surface_logo_centerpiece
Centered logo image in header representing the current surface/brand. Visual: single PNG/SVG slot; header stays monochrome aside from logo and macro temp colour. Non-interactive by default; optional click for about/home. States: default, optional hover/pressed/focus if interactive. Layout: perfectly centered; max width/height tokens constrain scaling; preserves aspect ratio; header height unaffected. Data schema: logo_asset_id required, optional alt_text, click_enabled flag, tracking/view ids. Tracking: surface_logo_click if interactive with surface_id/app_id. Accessibility: alt text describing the surface; if interactive, role=button and focus ring visible. Tokens: max logo width/height, padding top/bottom, alignment; hover/focus overlays if enabled.

## ATOM: surface_header_shell_standard
Full-width standard header shell pinned to top of surface. Three zones: left main_menu_icon_button; center surface_logo_centerpiece; right cluster with app_header_appname_dropdown and macro_temp_indicator. Visual: dark background, white text/icons; macro degree symbol coloured by band; no gradients/shadows. States: default, compact (slightly reduced padding/height), scrolled (optional slimmer height), focus states per child. Behaviour: fixed position respecting OS safe-area; inherits macro temperature from backend and passes to indicator; truncates text if constrained while keeping logo centered; handles click proxies from sub-atoms. Layout: horizontal flex with vertical centering, tokenized header height/padding, logo max width, right cluster gap, safe-area insets, and full-bleed width within 24-column grid. Data schema: surface_id, app_id, app_name, macro_temperature_value, optional logo_asset_id, is_compact, view/tenant ids. Tracking: proxies main_menu_opened, app_dropdown_opened/closed, macro_temp_click (if used), header_state_changed; carries ids only. Accessibility: header uses role="banner"; tab order menu → dropdown → temperature (if interactive); focus rings visible. Tokens: header_height_standard, header_padding_horizontal, logo_max_width, right cluster gap, compact variants, typography ref for app name (delegated), tracking overrides.

## ATOM: surface_header_shell_micro
Compact header variant removing macro temperature and tightening spacing. Composition: left main_menu_icon_button, center surface_logo_centerpiece (smaller), right app_header_appname_dropdown. Visual: same monochrome base; no temperature colour. Behaviour: used when vertical space is tight or during scroll; may animate between standard and micro. Layout: reduced header_height_micro, padding tokens, smaller logo max width, preserved centering; respects OS safe-area. Data schema: same ids as standard, minus temperature if omitted; state flag indicating micro. Tracking: same events as standard with state context; no PII. Accessibility: maintains touch target sizes; role banner; tab order menu → dropdown. Tokens: header_height_micro, padding reductions, logo size tokens, transition timing/ease (if animating), tracking overrides.

## ATOM: surface_header_nano
Minimal nano header consisting only of the main_menu_icon_button floating at top-left. Behaviour: press expands to micro/standard header and optionally opens main menu. Visual: icon only, dark base; offsets from top/left tokenized; may overlay content. States: nano_default, expanding; hover/pressed/focus on icon. Layout: positioning tokens for offset relative to safe-area; ensures tap target meets minimums. Data schema: surface_id, target_header_state_on_expand (micro/standard), optional theme variant, view/tenant ids. Tracking: nano_header_expand with ids/state; menu events proxied by button. Accessibility: aria-label clarifies expansion; focusable icon; role button. Tokens: nano offsets, tap area, transition timing to expanded header, tracking override.

## ATOM: chat_rail_shell
Global chat rail shell that anchors to the bottom of the viewport on mobile (above OS chrome) and center-docks on desktop while managing NANO, MICRO, STANDARD, and FULL states plus dock/undock. Visual: dark/black panel with high-contrast text/icons, subtle divider between header and message area, slight radius via tokens. Layout stack: header bar, optional icon band popover (tools/settings), message list (STANDARD/FULL), safety controls, bottom input bar. States: nano (header + preview only), micro (header + safety + input), standard (mid-height, scrollable list), full (tall list), with minimise/expand stepping between states and optional hide beyond nano. On load and when near bottom, message list auto-scrolls to newest; only one band (tools/settings) open at a time. Behaviour: mobile anchoring ensures input and controls stay visible when keyboard is open and never overflow horizontally; desktop undocked mode supports drag with stored position. Docking respects safe-area insets; resize clamps to max width token. Tracking: chat_state_change, chat_open_from_nano_preview, chat_band_toggle; no message bodies logged. Tokens: corner radius, max width, padding, header height, state transition duration, safe-area offsets, docked vs floating positions, band heights, message list min/max heights, input bar radius/padding, and tracking key override. Data schema: chat_id, state enum, messages array refs, active_band enum, app_label, is_docked, position (x,y) for undocked, unread_count, tenant/view ids, safe_area_insets. Accessibility: rail is a labelled region/landmark with header controls in logical tab order; state changes announced (e.g., “Chat expanded to full”); nano preview exposes latest message text; keyboard users can navigate header icons, bands, list scroll, safety controls, and input with focus rings visible; reduced motion removes animated transitions while preserving state changes.

## ATOM: chat_rail_header_bar
Top header bar for the chat rail, present in all states (nano through full). Visual: dark background aligned to the rail with high-contrast text/icons; three zones—left minimise icon, centered app/surface label, right group of tools, settings, and expand icons. States: default, hover, pressed, active (for tools/settings when band open), disabled for min/expand at bounds. Behaviour: minimise steps rail down one state, expand steps up; tools/settings toggle bands exclusively; label truncates with ellipsis when tight. Layout: symmetric horizontal padding, icons vertically centered, label centered; option to hide label on very narrow screens. Tokens: header height, icon spacing/order, padding, label typography, active underline/filled token, focus ring. Data schema: chat_id, app_label, current_state (nano/micro/standard/full), active_band (none/tools/settings), show_minimize/show_expand flags, tracking ids. Tracking: click_chat_minimize/expand/tools/settings with chat_id/view_id/tenant_id; no PII. Accessibility: role toolbar within header region, icons keyboard-focusable with ARIA labels, Enter/Space activation; label included in region label (“Chat – <app>”).

## ATOM: chat_message_list
Scrollable message list inside the rail for STANDARD/FULL (optional MICRO). Visual: dark background matching rail; stacked chat_message_block entries with consistent vertical spacing; subtle empty/loading states. Behaviour: new messages append at bottom; auto-scroll to bottom on load and when user is near bottom; preserve position when user is reviewing history; internal scroll independent from header/input. Supports agent/user alignment without bubbles. Tokens: vertical spacing, list padding, max line width, scroll threshold for auto-scroll, empty/loading placeholders. Data schema: chat_id, messages array refs (ids and meta), has_more_history flag, tracking/view ids. Tracking: throttled chat_scroll (position, last visible message_id) without content. Accessibility: list as polite live region; keyboard scroll; focus management stays on header/input unless explicitly moved; announces new messages politely. Colours and typography delegated to child message blocks; list owns padding/spacing and auto-scroll behaviour.

## ATOM: chat_message_block
Single message unit (agent or human) rendered without bubbles. Visual: dark background, high-contrast text; stack of name label, body, optional role tag, optional divider; optional avatar aligned to side per role. Behaviour: long messages wrap; no horizontal scroll; agent messages left-align; human may right-align variant; highlight state for search/new message. Tokens: typography presets for name/body/role_tag, spacing between name/body/action bar, avatar size/offset, highlight overlay, alignment toggle. Data schema: message_id, chat_id, author_role, author_label, body_text ref, optional role_tag, timestamp, avatar_id, is_new; tracking/view ids. Tracking: chat_message_view when entering viewport; no body text logged. Accessibility: reads author + body; role tags included; focusable only when needed (e.g., for action bar access), otherwise static text.

## ATOM: chat_message_action_bar
Row of five action icons under agent messages: save, alert, safety review, delete, to-do. Visual: monochrome line icons, equal spacing, minimal height; hover/pressed/disabled overlays tokenized. Behaviour: each icon opens inline control/modal/trigger; icons meet tap target size; order configurable via tokens. Tokens: icon size, spacing, hover/pressed/disabled overlays, tooltip typography, tracking overrides. Data schema: message_id, chat_id, optional can_save/can_alert/can_review/can_delete/can_create_todo booleans, tracking ids. Tracking: chat_message_save/set_alert/safety_review/delete/create_todo events with ids only; no message text. Accessibility: toolbar role with labelled buttons (“Save message”, etc.), Enter/Space activation, focus ring visible.

## ATOM: chat_safety_controls_bar
Compact safety/behaviour control strip above the input. Visual: dark row with 3–4 icons (slider, scales, fire) with optional small labels or numeric indicators; active state may use filled disc. Behaviour: toggles modes or opens mini-settings; affects subsequent messages, not past ones; appears in micro/standard/full. Tokens: icon size, spacing, max visible controls before overflow, active indicator styling. Data schema: chat_id, controls array {control_id, state}, optional safety_profile_id, tracking/view ids. Tracking: chat_safety_control_toggle with control_id previous/new state; no PII. Accessibility: toolbar with labelled buttons; arrow keys navigate; Enter/Space toggles; focus rings visible.

## ATOM: bottom_chat_input_bar
Main input pill inside the rail and embeddable widget. Visual: high-contrast light pill on dark rail with rounded corners; left agent/upload icon, inline shortcut arrow near input start, multiline text area capped in height, right send icon. Behaviour: Enter sends, Shift+Enter newline (tokenized); upload icon opens chat_upload_source_picker; shortcut arrow opens chat_shortcuts_popover; send button always visible—no horizontal overflow; pinned above keyboard on mobile with message list shrinking instead of hiding input. Tokens: pill height, corner radius, padding, icon sizes, input typography, placeholder contrast, behaviour token for Enter vs Shift+Enter, spacing to keep controls visible. Data schema: chat_id, current_input_text, placeholder_text, is_disabled, shortcuts_enabled, tracking/view ids. Tracking: open_upload_picker, open_shortcuts_popover, send_message_attempt (with success/fail flag) capturing lengths/ids only. Accessibility: labelled text area, ARIA labels on upload/send/shortcut; tab order upload → text → send; focus ring visible; reduced motion keeps layout static.

## ATOM: chat_shortcuts_popover
Popover anchored to the input shortcut arrow for quick token insertion (e.g., ², ³). Visual: small dark rounded panel with light text tokens, optional subtle border; horizontal row or compact grid. Behaviour: opens near trigger, shows token list, tap inserts at cursor and closes; outside click closes; keyboard arrows navigate; Enter inserts. Tokens: token font size preset, popover radius, spacing, max tokens before wrap, open/close animation duration/ease (reduced-motion friendly). Data schema: chat_id, tokens array (at least sup_2/sup_3), optional default_token_order, tracking/view ids. Tracking: chat_shortcut_token_insert with token_id/chat_id only. Accessibility: role menu with menuitems, labelled by trigger; focus management returns to input after insert.

## ATOM: chat_upload_source_picker
Popover from upload/agent button to choose file source and later destination. Visual: dark panel with light text; rows or small grid; hover/selected highlight tokenized; optional icons per source (cloud/device). Behaviour: lists sources (Nexus, Maiybes, Device); selecting Device invokes OS picker; proprietary sources may open simple browser; future destination selection (Nexus/Maiybes/Chat) kept as secondary level; only one picker view at a time. Tokens: width, row height, padding, corner radius, optional icon size, max visible options before scroll. Data schema: chat_id, available_sources, optional available_destinations, default_source/destination, tracking/view ids. Tracking: upload_source_opened, upload_source_selected (and later destination) with ids only; no filenames/contents. Accessibility: labelled popover; keyboard arrows move through options; Enter selects; focus returns to input.

## ATOM: chat_icon_band_popover
Horizontal band between header and messages for tools/settings icons. Visual: dark band attached to rail, icons in light monochrome; optional tiny labels; active icon underline/filled disc tokenized; horizontal scroll on mobile when overflowing. Behaviour: band_type tools/settings; only one band visible; tapping icon triggers tool/setting action; active_icon_id optional. Tokens: band height, icon size, horizontal padding, scroll behaviour (snap/free), spacing, active state styling. Data schema: chat_id, band_type (tools/settings), icons array {icon_id, action_type}, optional active_icon_id, tracking/view ids. Tracking: chat_band_icon_click with band_type/icon_id/chat_id; no user content logged. Accessibility: role toolbar; labelled buttons; arrow-key navigation; Enter/Space activates.

## ATOM: maybes_note
Frontend integration for the MAYBES notes feature (asset_type "maybes_note") with canvas placement metadata. Visual: black-base note card/text area using design token colour accents (colour_token), no vectors by default. Behaviour: list/create/update/archive via JSON API; canvas layout persists x/y/scale through bulk endpoint; archive not delete. States: default editable note, pinned indicator, archived (hidden/greyed), dragging/resizing on canvas (layout tokens). Tokens: typography for title/body, colour_token hook, pin/archived badges, padding/radius, spacing between title/body, max width on canvas, drag/resize affordance visibility. Layout: respects 24-column logic when embedded in lists; on canvas uses layout_x/layout_y/layout_scale tokens. Data schema: maybes_id, tenant_id, user_id, title?, body, colour_token, layout_x, layout_y, layout_scale, tags[], origin_ref {surface/app/thread_id/message_id}, is_pinned, is_archived, created_at/updated_at, episode_id?, nexus_doc_id?. API: GET/POST/PATCH/DELETE /api/maybes (archive on DELETE), POST /api/maybes/canvas-layout for bulk [{maybes_id, x, y, scale}]. Tracking/events: maybes_created/updated/archived with asset_type maybes_note and headers carrying tenant_id/user_id (+episode_id optional); no Nexus logging unless mirrored later. Accessibility: editable areas labeled; drag handles keyboard-accessible when applicable; avoid colour-only state cues. Exposed tokens: colour_token palette hook, canvas position/scale, padding/radius, pinned/archived badge styles, tracking override.

## ATOM: blackboard
- Status: planned
- Brief: The root application shell/background atom. It provides the infinite or fixed canvas background (typically black) upon which all other layout containers sit. It is responsible for the base z-index context and may handle global gestures (like pan/zoom if the app mode requires it). It consumes `theme_colour_schemes` for the base background colour token.

## ATOM: surface_header_nano
- Status: active
- Brief: Ultra-condensed header strip for "zen mode" or mobile-viewports where vertical space is premium. Contains minimal branding and essential nav triggers.

## ATOM: surface_header_shell_micro
- Status: active
- Brief: Standard low-profile header for chat/app contexts. Hosts the logo, app switcher, and top-level indicators.

## ATOM: surface_header_shell_standard
- Status: active
- Brief: The full marketing/desktop header with expanded navigation, mega-menus capabilities, and prominent branding.

## ATOM: surface_logo_centerpiece
- Status: active
- Brief: The central branding element, responsive to header shells, capable of animating or shifting layout (text+icon to icon-only).

## ATOM: app_header_appname_dropdown
- Status: active
- Brief: The context switcher located in the header. Displays current workspace/app name and toggles the nav menu.

## ATOM: macro_temp_indicator
- Status: active
- Brief: A global system status indicator (e.g., "temperature", "creativity", or "load") usually appearing in the header rail.

## ATOM: main_menu_icon_button
- Status: active
- Brief: The primary "Hamburger" or "Grid" trigger for the main navigation drawer.
