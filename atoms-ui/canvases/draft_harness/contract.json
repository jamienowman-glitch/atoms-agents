{
  "contract_version": "2.1.0",
  "meta": {
    "name": "Draft Harness",
    "description": "Draft harness baseline for stable tool surfaces (ToolPop/ToolPill/TopPill/ChatRail).",
    "key": "draft_harness"
  },
  "viewport": {
    "type": "infinite",
    "bg_color": "#0b0b0b"
  },
  "harness": {
    "top_pill": {
      "left": [
        "surface_abbrev",
        "space_abbrev"
      ],
      "center": [
        "temperature"
      ],
      "right": [
        "viewport_edit",
        "export",
        "settings"
      ]
    },
    "chat_rail": {
      "enabled": true,
      "position": "bottom",
      "modes": ["nano", "micro", "standard", "full"],
      "mobile_fullscreen": true
    },
    "tool_pop": {
      "enabled": true,
      "position": "chatrail_top",
      "attach": "chatrail",
      "magnifiers": {
        "left": { "type": "category_selector", "default": "color" },
        "right": { "type": "tool_selector", "default": "palette" }
      },
      "left_categories": [
        { "id": "context_atom", "label": "Context Atom", "locked": true },
        { "id": "color", "label": "Color" },
        { "id": "font", "label": "Font" },
        { "id": "type", "label": "Type" },
        { "id": "layout", "label": "Layout" }
      ],
      "right_controls_by_category": {
        "color": [
          { "name": "style.bg", "control_type": "color" },
          { "name": "style.text", "control_type": "color" },
          { "name": "style.foreground", "control_type": "color" }
        ],
        "font": [
          { "name": "typo.family", "control_type": "select" },
          { "name": "typo.weight", "control_type": "slider" },
          { "name": "typo.width", "control_type": "slider" }
        ],
        "type": [
          { "name": "typo.size", "control_type": "slider" },
          { "name": "typo.line_height", "control_type": "slider" },
          { "name": "typo.tracking", "control_type": "slider" }
        ],
        "layout": [
          { "name": "grid.cols", "control_type": "slider" },
          { "name": "grid.gap", "control_type": "slider" }
        ]
      }
    },
    "tool_pill": {
      "enabled": true,
      "style": "vertical_lozenge",
      "icon_only": true,
      "collapsible": true,
      "long_press_map": {
        "copy": ["headline", "body", "quote"]
      }
    },
    "atom_flip": {
      "enabled": true,
      "notes": "Harness-level flip for deep controls (SEO/UTM/etc)."
    }
  }
}
